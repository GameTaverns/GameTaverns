############################################################
# GameTaverns Self-Hosted Configuration
# Version: 2.7.1 - Connection Fix Edition
# Domain: gametaverns.com (hardcoded)
############################################################

# ===========================================
# Domain Configuration (HARDCODED)
# ===========================================
DOMAIN=gametaverns.com
SITE_URL=https://gametaverns.com

# CRITICAL: API_EXTERNAL_URL should match SITE_URL for same-origin routing
# The frontend accesses /auth/, /rest/, /functions/ on the SAME domain
# Host Nginx proxies these paths to Kong on port 8000
# Do NOT use a separate api subdomain - it causes CORS issues
API_EXTERNAL_URL=https://gametaverns.com

STUDIO_URL=https://studio.gametaverns.com
MAIL_DOMAIN=gametaverns.com

# Wildcard subdomain for tenant libraries
# Libraries are accessible at: {slug}.gametaverns.com
LIBRARY_SUBDOMAIN_PATTERN=*.gametaverns.com

# ===========================================
# REQUIRED: Security Keys (auto-generated by install.sh)
# ===========================================
POSTGRES_PASSWORD=
JWT_SECRET=
ANON_KEY=
SERVICE_ROLE_KEY=
SECRET_KEY_BASE=
PII_ENCRYPTION_KEY=

# ===========================================
# Site Branding
# ===========================================
SITE_NAME=GameTaverns
SITE_DESCRIPTION=Browse and discover our collection of board games

# ===========================================
# Port Configuration
# ===========================================
APP_PORT=3000
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
STUDIO_PORT=3001
POSTGRES_PORT=5432
ROUNDCUBE_PORT=9001

# ===========================================
# Auth Configuration
# ===========================================
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
JWT_EXPIRY=3600
ADDITIONAL_REDIRECT_URLS=

# ===========================================
# SMTP Configuration
# ===========================================
# Leave SMTP_HOST as 'mail' to use built-in Postfix container
# Or configure external SMTP (SendGrid, Mailgun, etc.)
SMTP_HOST=mail
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_ADMIN_EMAIL=admin@gametaverns.com
SMTP_SENDER_NAME=GameTaverns
SMTP_FROM=noreply@gametaverns.com

# ===========================================
# Discord Integration
# ===========================================
# Required for Discord OAuth and notifications
# Create app at: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# ===========================================
# AI Services (Perplexity powers ALL AI)
# ===========================================
# Perplexity: RECOMMENDED for all AI features (recommendations, enrichment, etc.)
# Get key at: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=

# Firecrawl: For URL-based game imports
# Get key at: https://www.firecrawl.dev/
FIRECRAWL_API_KEY=

# ===========================================
# BoardGameGeek Integration
# ===========================================
# Optional: For authenticated API access (more reliable imports)
BGG_API_TOKEN=

# ===========================================
# Bot Protection (Cloudflare Turnstile)
# ===========================================
# Required for signup/login protection
# Get keys at: https://dash.cloudflare.com/?to=/:account/turnstile
TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=

# ===========================================
# Timezone
# ===========================================
TIMEZONE=America/New_York
